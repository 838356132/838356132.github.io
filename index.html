<!-- Project Aurora - Blog Framework V3.3 (SPA-style)-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" type="text/css" href="./css/framework.css" charset="utf-8"/>
<title>Project Aurora</title>
</head>
<body>

<!--è¿›åº¦æ¡-->
<div class="progressbar" id="progressbar"></div>
<!--é¡µé¢æ¡†æ¶-->
<div class="main-box">
    <!--ä¸Šéƒ¨æ ‡é¢˜-->
    <header class="top_title"></header>
    <!--æ ç›®åˆ‡æ¢æŒ‰é’®-->
    <div class="top_sticky">
        <button class="item_top top_active spa-switch" data-target="index">é¦– é¡µ</button><button class="item_top spa-switch" data-target="inspiration">çµ æ„Ÿ</button><button class="item_top spa-switch" data-target="articles">æ–‡ ç« </button><button class="item_top spa-switch" data-target="links">ä¹¦ ç­¾</button><button class="item_top spa-switch" data-target="about">å…³ äº</button>
    </div>
    <!--SPAé¡µé¢å†…å®¹-->
    <div class="spa-content"></div>
    <!--åº•éƒ¨ç‰ˆæƒæ -->
    <footer class="fw-bottom-copyright">
        <p class="fw-bottom-copyright-content gradient">â˜† Project Aurora V3.3 â˜†</p>
        <p class="fw-bottom-copyright-content">ç‰ˆæƒæ‰€æœ‰ Â© 2016-<span class="copyright_year"></span> Mikukonai</p>
    </footer>
</div>
<!--é¡µé¢æ¡†æ¶ç»“æŸ-->

<!--é¡µé¢å†…å®¹æ¨¡æ¿-->

<!--indexæ¨¡æ¿-->
<template class="index" id="index">

    <div class="index_item">
        <div class="index_article_intro">
            <table class="index_item_table"><tr>
                <td class="index_item_table_left">
                    <div class="index_item_title"><span class="index_item_title_prefix">å£¹</span><a class="index_item_a" href="https://github.com/mikukonai/AuroraScheme">AuroraScheme</a><span class="index_item_developing">å¡«å‘ä¸­</span></div>
                    <div class="index_item_content">
                        <code>(<span style="color:#6ecfff;">lambda</span> (creates) the <span style="color:#ffafcb;">world</span>)</code>
                    </div>
                </td>
                <td class="index_item_table_right">
                    <div style="float:right;margin: auto 7px auto auto;width:50px; height:50px;">
                        <img style="width:100%; height:100%" src="./image/logos/AuroraScheme-Logo-icon.png"/>
                    </div>
                </td>
            </tr></table>
        </div>
    </div>

    <div class="index_item">
        <div class="index_article_intro">
            <table class="index_item_table"><tr>
                <td class="index_item_table_left">
                    <div class="index_item_title"><span class="index_item_title_prefix">è´°</span><a class="index_item_a" href="./article.html?id=%E7%87%83%E7%83%A7%E4%BD%A0%E7%9A%84%E5%8D%A1%E8%B7%AF%E9%87%8C">ç‡ƒçƒ§ä½ çš„å¡è·¯é‡Œï¼</a><span class="index_item_developing">å¡«å‘ä¸­</span></div>
                    <div class="index_item_content">
                        äºŒåä¸€ä¸–çºªæ˜¯ç”Ÿå‘½ç§‘å­¦çš„ä¸–çºª~
                    </div>
                </td>
                <td class="index_item_table_right">
                    <span style="font-size: 30px;">ğŸ‹</span>
                </td>
            </tr></table>
        </div>
    </div>

    <div class="index_item">
        <div class="index_article_intro">
            <table class="index_item_table"><tr>
                <td class="index_item_table_left">
                    <div class="index_item_title"><span class="index_item_title_prefix">å</span><a class="index_item_a" href="./article.html?id=æˆ‘æƒ³ç»™ä½ æ•´ä¸ªä¸–ç•Œ">æˆ‘æƒ³ç»™ä½ æ•´ä¸ªä¸–ç•Œ</a><span class="index_item_developing">å¡«å‘ä¸­</span></div>
                    <div class="index_item_content">
                        å¥½å•Šï¼Œé‚£ä½ æ•´å§ã€‚
                    </div>
                </td>
                <td class="index_item_table_right">
                    <span style="font-size: 30px;">ğŸŒŒ</span>
                </td>
                <!-- <td class="index_item_table_right">
                    <div style="float:right;margin: auto 0 auto auto;width:60px; height:60px;">
                        <img style="width:100%; height:100%" src="./image/cover/nikki.jpg"/>
                    </div>
                </td> -->
            </tr></table>
        </div>
    </div>

    <div class="index_all_article">
        <a class="index_all_article_link spa-switch" href="#/articles" data-target="articles">å…¨éƒ¨æ–‡ç«  Â»</a>
    </div>

    <!-- <div style="color:#bbbbbb;margin: 10px 0;font-size: 14px;line-height: 22px;text-align: center;">
        <a class="index_bottom_link" style="color:orange;" href="https://mikukonai.com/feed.xml">RSS</a><span class="bar">/</span><a class="index_bottom_link" href="https://github.com/mikukonai/mikukonai.github.io/blob/master/README.md" target="_blank">å…³äºåšå®¢</a>
    </div> -->
    <style>.foot_link { color: inherit; text-decoration: none; border-bottom: 1px dotted #cccccc;} .foot_link:hover {color: #ff88a9; border-bottom: 1px dotted #ff88a9;}</style>
    <!-- <div class="articles_content_ending" style="margin: 0;">é¢˜å›¾ä½œè€…ï¼š<a class="foot_link" href="https://www.pixiv.net/member_illust.php?mode=medium&illust_id=66037995">ALPCMAS</a></div> -->

    <script>
    (function() {
        // è¿›åœºåŠ¨ç”»
        let showTime = 0;
        $(".index_item").each(function(i,e) {
            $(e).css({'opacity':0,'margin-top':'-5px'});
            setTimeout(function() {
                $(e).animate({'opacity':1.0,'margin-top':'5px'}, 800);
            }, showTime);
            showTime += 300;
        });
    })();
    </script>
</template>




<!--inspirationæ¨¡æ¿-->
<template id="inspiration">
    <div class="goTop" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="right: 200px;">
        <img src="./image/icons/gotop.png" style="height:19px;width:17px; vertical-align: middle;">
    </div>
    <div class="left_nav_button" id="left_nav_button">menu</div>
    <div class="left_navbox" id="left_navbox">
        <div class="left_navbox_top">
            <span class="left_navbox_top_title">çµæ„Ÿç›®å½•</span>
            <!-- <div class="left_navbox_search_container">
                <input class="left_navbox_search_input" id="left_navbox_search_input" placeholder="è¾“å…¥å…³é”®å­—â€¦">
                <span class="left_navbox_search_clear">âœ–</span>
            </div> -->
        </div>
        <div id="left_navbox_tags">
            <span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span><span class="left_navbox_tags_item">çµæ„Ÿ1</span><span class="left_navbox_tags_item">çµæ„Ÿ2</span>
        </div>
        <div id="left_navbox_item_list">
            <div class="left_navbox_horiline"></div>
        </div>
    </div>
    <div class="timeline-container">
        <div id="poster_anchor"></div>
        <div class="content-ending" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"></div>
    </div>
    <script src="./ts/framework/inspiration.js"></script>
    <script>

    function TurnTo(elementId) {
        let targetTop = window.pageYOffset + $(`#${elementId}`)[0].getBoundingClientRect().top;
        let currentTop = window.pageYOffset;
        $('html, body').animate({ scrollTop: targetTop }, 200, 'easeOutExpo');
    }

    (function() {

        let posters, html;

        function Indexer(posters) {
            let InverseIndex = new Object();
            for(let i = 0; i < posters.length; i++) {
                let tags = posters[i].tags;
                for(let j = 0; j < tags.length; j++) {
                    if(tags[j] in InverseIndex) {
                        InverseIndex[tags[j]].push(i);
                    }
                    else {
                        InverseIndex[tags[j]] = [i];
                    }
                }
            }
            return InverseIndex;
        }

        function Paint() {
            // ç»˜åˆ¶åˆ°æŒ‡å®šèŠ‚ç‚¹
            $('#poster_anchor').after(html);
            // è¿›åœºåŠ¨ç”»
            let showTime = 0;
            $(".poster").each(function(i,e) {
                setTimeout(function() {
                    $(e).animate({'opacity':1.0,'margin-top':'0px'}, 800);
                }, showTime);
                showTime += 20;
            });
            setTimeout(function() {
                $('.content-ending').html('ä¸å¯è¯´è€…ï¼Œçš†åº”æ²‰é»˜');
            }, showTime);
            console.table(posters);

            // ç»˜åˆ¶å·¦ä¾§ç›®å½•
            let navHtml = new Array();
            for(let i = 0; i < posters.length; i++) {
                let inspiration = posters[i];
                let thisYear = inspiration.date.split("-")[0];
                if(i >= 1 && thisYear !== posters[i-1].date.split("-")[0] && !isNaN(parseInt(thisYear))) {
                    navHtml.push(`<div class="left_navbox_horiline"><span style="position: absolute; top: -8px; margin-left: 19px; padding: 0 4px; background-color: #fff;">${thisYear}å¹´</span></div>`);
                }
                navHtml.push(`<div class="left_navbox_item" onclick="TurnTo('Poster_${inspiration.id}');">${inspiration.title}</div>`);
            }
            $("#left_navbox_item_list").html(navHtml.join(""));

            // ç»˜åˆ¶æ ‡ç­¾
            let tagHtml = new Array();
            let invIndex = Indexer(posters);
            for(let tag in invIndex) {
                tagHtml.push(`<span class="left_navbox_tags_item">${tag}</span>`);
            }
            $("#left_navbox_tags").html(tagHtml.join(""));

            if($(window).width() >= 650) {
                let rightMargin = $(".main-box").css("margin-right").match(/^\d+/gi);
                let leftMargin = $(".main-box").css("margin-left").match(/^\d+/gi);
                let buttonWidth = $(".goTop").css("width").match(/^\d+/gi);
                $(".goTop").css("right", (rightMargin - buttonWidth - 30).toString() + 'px');
                $(".left_nav_button").show();
                $(".left_navbox").show();
            }
            else {
                $(".goTop").css("right", '20px');
                $(".left_nav_button").hide();
                $(".left_navbox").hide();
            }
        }



        const MAX_ARTICLE_LENGTH = 60000; // æœ€å¤§å­—èŠ‚æ•°ï¼Œç”¨äºè¿‘ä¼¼è®¡ç®—åŠ è½½è¿›åº¦
        $('.content-ending').html('æ­£åœ¨è¯»å–ï¼Œè¯·ç¨ç­‰â€¦');
        $.ajax({
            type: "GET",
            url: `./markdown/-inspiration.md`,
            success: (data)=> {
                $("#progressbar").animate({width: `100%`});
                $("#progressbar").fadeOut();

                // è§£æ
                posters = ParsePosters(data);
                html = RenderPosters(posters);

                Paint();
            },
            error: ()=> {
                $("#progressbar").animate({width: `100%`});
                $("#progressbar").fadeOut();
                $('.content-ending').html('çµæ„Ÿä¸è§äº† >_<');
            },
            // 2018.01.20 åŠ è½½è¿›åº¦æ¡
            xhr: function() {
                var xhr = $.ajaxSettings.xhr();
                xhr.onprogress = function(event) {
                    let percentage = parseInt((event.loaded / MAX_ARTICLE_LENGTH) * 100);
                    $("#progressbar").animate({width: `${((percentage > 100) ? 100 : percentage)}%`});
                };
                return xhr;
            }
        });

        window.onresize = Paint;

        let left_nav_state = 1;

        $("#left_nav_button").click(()=>{
            if(left_nav_state === 1) {
                $("#left_navbox").animate({"margin-left": "-360px", opacity: "0"}, 500, "easeOutExpo");
                left_nav_state = 0;
            }
            else {
                $("#left_navbox").animate({"margin-left": "0px", opacity: "1"}, 500, "easeOutExpo");
                left_nav_state = 1;
            }
        });

    })();
    </script>
</template>





<!--articlesæ¨¡æ¿-->
<template id="articles">
    <div class="articles_sort_option">
        <span id="date-dec" class="articles_sort_option_button_left">æ—¥æœŸé™åº</span><span id="category" class="articles_sort_option_button_right">åˆ†ç±»å½’ç±»</span>
    </div>
    <div id="list_container"></div>
    <div class="articles_content_ending">é¢˜å›¾ä½œè€…ï¼šsilverwing (PixivID:24281303)</div>
    <script>
    function parseArticleList(articleList) {
        let CATEGORIES = new Array();
        let ARTICLES = new Array();
        let lines = articleList.split(/\n+/gi);
        let currentCategory = -1;
        for(let line of lines) {
            // è·³è¿‡ç©ºè¡Œæˆ–è€…æ³¨é‡Šè¡Œ
            if(line.length <= 0 || line[0] === ';') {
                continue;
            }
            // è¡¨ç¤ºæ–‡ç« åˆ†ç±»çš„è¡Œ
            else if(/^\#\#\s/.test(line)) {
                CATEGORIES.push(line.substring(3));
                currentCategory = CATEGORIES.length-1;
            }
            // æ–‡ç« ä¿¡æ¯è¡Œ
            else {
                let fields = line.split('|');
                let title     = fields[0] ? fields[0].trim() : "";
                let articleID = fields[1] ? fields[1].trim() : "";
                let date      = fields[2] ? fields[2].trim() : "";
                let type      = fields[3] ? fields[3].trim() : "";
                let flag      = fields[4] ? fields[4].trim() : "";
                ARTICLES.push({
                    "title": title,
                    "link": `./article.html?id=${articleID}`,
                    "date": date,
                    "type": type,
                    "category": currentCategory,
                    "flag": flag
                });
            }
        }
        let contents = {
            "CATEGORIES": CATEGORIES,
            "ARTICLES": ARTICLES
        };
        console.log(contents);
        return contents;
    }

    function getTypeColor(type) {
        const TYPE_COLOR = {
            "åŸåˆ›":"#9dd9ff",
            "ç¿»è¯‘":"#ffcc6c",
            "è½¬è½½":"#aadd33",
            "ç½®é¡¶":"pink",
        };
        return (type in TYPE_COLOR) ? TYPE_COLOR[type] : '#cccdcd';
    }
    function generateArticleList(CONTENTS, sortOption) {
        const addPreZero = function(num) {
            return ('000' + num.toString()).substr(-2);
        };
        // æŒ‰ç±»åˆ«å½’ç±»
        if(sortOption === 'category') {
            // æ¯ä¸€ç±»ç”Ÿæˆä¸€ç»„htmlï¼Œç„¶åæ‹¼æ¥èµ·æ¥
            let html = new Array(CONTENTS.CATEGORIES.length);
            for(let i = 0; i < CONTENTS.CATEGORIES.length; i++) { html[i] = ''; }
            for(let i = 0; i < CONTENTS.ARTICLES.length; i++) {
                let item = CONTENTS.ARTICLES[i];
                let flagSpan = (item.flag.length > 0) ? ('<span class="articles_item_flag">' + item.flag + '</span>') : '';
                // å…ˆç»„è£…HTML
                let itemNumberBgColor = (item.flag === "ç½®é¡¶") ? getTypeColor('ç½®é¡¶') : getTypeColor(item.type);
                let itemTypeTag = item.type;
                let htmlstr = `<div class="articles_item_line enter"><span class="articles_item_number" style="color:${itemNumberBgColor};border-color:${itemNumberBgColor};">${addPreZero(i+1)}</span><span style="display:inline-block;max-width:50%;"><a class="article_link" href="${item.link}">${item.title}</a>${flagSpan}</span><span class="articles_item_date"><span style="color:${itemNumberBgColor};">${itemTypeTag}</span> Â· ${item.date}</span></div>`;

                html[item.category] += htmlstr;
            }
            let listHtml = '';
            for(let i = 0; i < CONTENTS.CATEGORIES.length; i++) {
                let title = CONTENTS.CATEGORIES[i].split('|')[0];
                let subtitle = CONTENTS.CATEGORIES[i].split('|')[1];
                listHtml += `<div class="articles_category_list" id="c${i}"><div class="articles_category_title enter">${title}<span class="articles_category_title_en"> Â· ${subtitle}</span></div>`;
                listHtml += html[i];
                listHtml += '</div>';
            }
            document.getElementById('list_container').innerHTML = listHtml;
        }
        // æŒ‰æ—¥æœŸé™åº
        else if(sortOption === 'date-dec') {
            let html = '<div class="articles_category_list" id="date-dec">';
            let indexArray = sortByDate(CONTENTS, 1);
            for(let i = 0; i < indexArray.length; i++) {
                let item = CONTENTS.ARTICLES[indexArray[i]];
                let flagSpan = (item.flag.length > 0) ? ('<span class="articles_item_flag">' + item.flag + '</span>') : '';
                let itemNumberBgColor = (item.flag === "ç½®é¡¶") ? getTypeColor('ç½®é¡¶') : getTypeColor(item.type);
                let itemTypeTag = item.type;
                html += `<div class="articles_item_line enter"><span class="articles_item_number" style="color:${itemNumberBgColor};border-color:${itemNumberBgColor};">${addPreZero(i+1)}</span><span style="display:inline-block;max-width:50%;"><a class="article_link" href="${item.link}">${item.title}</a>${flagSpan}</span><span class="articles_item_date"><span style="color:${itemNumberBgColor};">${itemTypeTag}</span> Â· ${item.date}</span></div>`;
            }
            html += `</div>`;
            document.getElementById('list_container').innerHTML = html;
        }
        // é»˜è®¤é¡ºåº
        else {
            let html = '<div class="articles_category_list" id="date-dec"><table class="category_item_table">';
            for(let i = 0; i < CONTENTS.ARTICLES.length; i++) {
                let item = CONTENTS.ARTICLES[i];
                let flagSpan = (item.flag.length > 0) ? ('<span class="flag">' + item.flag + '</span>') : '';
                html += `<tr class="articles_item_line enter"><td><span class="articles_item_number" style="background-color:${getTypeColor(item.type)};">${addPreZero(i+1)}</span><a class="article_link" href="${item.link}">${item.title}</a>${flagSpan}<span class="article_date"><span style="color:${getTypeColor(item.type)};">${item.type}</span> | ${item.date}</span></td></tr>`;
            }
            html += `</table></div>`;
            document.getElementById('list_container').innerHTML = html;
        }
        // æ–‡ç« æ ‡é¢˜è¿›åœºåŠ¨ç”»
        let showTime = 0;
        $(".enter").each(function(i,e) {
            $(e).css({'display':'block','opacity':0,'margin-top':'-5px'});
            setTimeout(function() {
                $(e).animate({'opacity':1.0,'margin-top':'0px'}, 500);
            }, showTime);
            showTime += 30;
        });
    }
    function compareDate(a, b) {
        if(/20\d{2}-\d{2}-\d{2}/gi.test(a) !== true && /20\d{2}-\d{2}-\d{2}/gi.test(b) !== true) {
            return 0;
        }
        else if(/20\d{2}-\d{2}-\d{2}/gi.test(a) === true && /20\d{2}-\d{2}-\d{2}/gi.test(b) !== true){
            return -1;
        }
        else if(/20\d{2}-\d{2}-\d{2}/gi.test(a) !== true && /20\d{2}-\d{2}-\d{2}/gi.test(b) === true){
            return 1;
        }
        else {
            let yearA = parseInt(a.substring(0,4));
            let yearB = parseInt(b.substring(0,4));
            let monthA = parseInt(a.substring(5,7));
            let monthB = parseInt(b.substring(5,7));
            let dayA = parseInt(a.substring(8));
            let dayB = parseInt(b.substring(8));
            if(yearA === yearB) {
                if(monthA === monthB) {
                    if(dayA === dayB) { return 0; }
                    else { return (dayA > dayB) ? (-1) : (1); } }
                else { return (monthA > monthB) ? (-1) : (1); } }
            else { return (yearA > yearB) ? (-1) : (1); }
        }
    }
    function sortByDate(CONTENTS, order) {
        // é¦–å…ˆæ‰«æä¸€éCONTENTS.ARTICLES
        let dateArray = new Array();
        for(let i = 0; i < CONTENTS.ARTICLES.length; i++) {
            dateArray.push({
                index: i,
                date: CONTENTS.ARTICLES[i].date,
                isTop: (CONTENTS.ARTICLES[i].flag === "ç½®é¡¶"),
            });
        }
        // å¯¹æ—¥æœŸè¿›è¡Œæ’åº
        dateArray.sort(function(a, b) {
            if(a.isTop) {
                return -1;
            }
            else if(b.isTop) {
                return 1;
            }
            else {
                return order * compareDate(a.date, b.date);
            }
        });
        // å–å‡ºindex
        let indexArray = new Array();
        for(let i = 0; i < dateArray.length; i++) {
            indexArray.push(dateArray[i].index);
        }
        return indexArray;
    }
    (function() {
        const MAX_ARTICLE_LENGTH = 20000;
        $('.articles_content_ending').html('æ­£åœ¨è¯»å–ï¼Œè¯·ç¨ç­‰â€¦');
        $.ajax({
            type: "GET",
            url: `./markdown/-articles.md`,
            success: (data)=> {
                $("#progressbar").animate({width: `100%`});
                $("#progressbar").fadeOut();
                let CONTENTS = parseArticleList(data);


                //////////////////////////////////////////////////
                //
                // é»˜è®¤æ’åºè§„åˆ™ï¼ˆ date-dec category ï¼‰
                //
                let defaultRule = 'category';
                //
                //////////////////////////////////////////////////


                generateArticleList(CONTENTS, defaultRule);
                document.getElementById(defaultRule).classList.add('articles_sort_option_button_selected');
                // æ’åºæŒ‰é’®åŠ¨ä½œ
                document.getElementById('date-dec').addEventListener('click', ()=>{
                    document.getElementById('date-dec').classList.add('articles_sort_option_button_selected');
                    document.getElementById('category').classList.remove('articles_sort_option_button_selected');
                    generateArticleList(CONTENTS, 'date-dec');
                });
                document.getElementById('category').addEventListener('click', ()=>{
                    document.getElementById('category').classList.add('articles_sort_option_button_selected');
                    document.getElementById('date-dec').classList.remove('articles_sort_option_button_selected');
                    generateArticleList(CONTENTS, 'category');
                });

                $('.articles_content_ending').html('é¢˜å›¾ä½œè€…ï¼šsilverwing (PixivID:24281303)');
            },
            error: ()=> {
                $("#progressbar").animate({width: `100%`});
                $("#progressbar").fadeOut();
                $('.articles_content_ending').html('æ–‡ç« åˆ—è¡¨è·å–å¤±è´¥ >_<');
            },
            xhr: function() {
                var xhr = $.ajaxSettings.xhr();
                xhr.onprogress = function(event) {
                    let percentage = parseInt((event.loaded / MAX_ARTICLE_LENGTH) * 100);
                    $("#progressbar").animate({width: `${((percentage > 100) ? 100 : percentage)}%`});
                };
                return xhr;
            }
        });
    })();
    </script>


</template>






<!--linksæ¨¡æ¿-->
<template id="links">
    <!-- <div style="color:#bbbbbb;margin: 20px 20px 25px 20px;font-size: 12px;line-height: 22px;text-align: center;">
        å½“é˜¿è™šè¢«æ”¾é€åˆ°æ­£å¸¸ä¸–ç•Œä¹‹æ—¶<br>
        é•¿é—¨åŒå­¦ç•™ä¸‹çš„ä¹¦ç­¾<br>
        ä¾¿æ˜¯å›åˆ°é‚£ä¸ªèºåŠ¨ä¸å·²çš„ä¸–ç•Œçš„å”¯ä¸€é’¥åŒ™<br>
        åªè¦ã€Œé’¥åŒ™ã€åœ¨æ‰‹<br>
        å¤§åƒä¸–ç•Œï¼Œç”±ä½ å¿ƒåŠ¨<br>
    </div> -->
    <div class="links_category">
        <div class="links_subtitle" style="font-weight: bold; color:#ff6893; background: linear-gradient(90deg, #ffffff, #fff3f3, #ffffff);">å‹ æƒ… é“¾ æ¥<div style="font-size: 10px; font-weight: normal; color: #bbbbbb; padding-top: 5px;">ä»¥æ·»åŠ æ—¶é—´ä¸ºåº</div></div>
        <div style="width: 100%;font-size: 12px;color: #bbbbbb;line-height: 22px;">æ¬¢è¿æ·»åŠ å‹æƒ…é“¾æ¥<br>è¯·é€šè¿‡ <a class="spa-switch" style="font-weight: bold; color: #888;" href="#/about" data-target="about">å¾®ä¿¡</a> è”ç³»æˆ‘</div>
        <div class="links_table_container">
            <table class="links_table">
                <tr>
                    <td><a target="_blank" href="http://zephray.cnvintage.org/">ZephRay</a></td>
                    <td><a target="_blank" href="https://mp.weixin.qq.com/s/QOw9mRvGVtocy3Nb315fYA">ç™½ç—´ä¸€åªå–µ</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://aoaoao.me/">Aaron's Blog</a></td>
                    <td><a target="_blank" href="https://imjad.cn/">çŒ«ä¸å‘æ—¥è‘µ</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://256kb.cn/">é‡ç”Ÿå–µå–µçš„Blog</a></td>
                    <td><a target="_blank" href="https://blog.ddlee.cn/">è§çˆ½æ¥¼</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://ice1000.org/">ä¸­é—´è¡¨ç¤º(IR)</a></td>
                    <td><a target="_blank" href="https://tcxx.info/">ç”œæ¬£å±‹</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://meow3.family.blog/">æƒ¡é­”èŒã®è®°äº‹ç°¿</a></td>
                    <td><a target="_blank" href="https://tql.ink/">Akkariinâ€™s Blog</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.qiutianaimeili.com/">ç§‹å¤©çˆ±ç¾ä¸½</a></td>
                    <td><a target="_blank" href="https://chanshiyu.com/">è‰æ™‚é›¨</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://razertory.me/">Razertory</a></td>
                    <td><a target="_blank" href="https://ssshooter.com/">UsubeniFantasy</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.brethland.com/">Brethland</a></td>
                    <td><a target="_blank" href="http://pixelart.cn/">åƒç´ è‰ºæœ¯</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://www.imalan.cn/">ä¸‰æ— è®¡åˆ’</a></td>
                    <td><a target="_blank" href="https://ntzyz.io">ntzyz</a></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="links_category">
        <div class="links_subtitle">åš å®¢<div style="font-size: 10px; color: #bbbbbb; padding-top: 5px;">ä»¥ä¸‹é“¾æ¥æ²¡æœ‰é¡ºåº</div></div>
        <div class="links_table_container">
            <table class="links_table">
                <tr>
                    <td>ç‹å <a target="_blank" href="http://www.yinwang.org/">åšå®¢</a> | <a target="_blank" href="https://docs.huihoo.com/homepage/shredderyin/">ä¸»é¡µ</a></td>
                    <td><a target="_blank" href="http://mindhacks.cn/">åˆ˜æœªé¹</a></td>
                    <td><a target="_blank" href="https://fwjmath.wordpress.com/">fwjmath</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.csksoft.net/">é™ˆå£«å‡¯</a></td>
                    <td><a target="_blank" href="http://www.changhai.org/">å¢æ˜Œæµ·</a></td>
                    <td><a target="_blank" href="https://blog.csdn.net/lipengcn">TangowL</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://isux.tencent.com/">è…¾è®¯ISUX</a></td>
                    <td><a target="_blank" href="http://madebyevan.com/">Evan Wallace</a></td>
                    <td><a target="_blank" href="http://blog.openkg.cn/">OpenKG</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://blog.memect.cn/">æ–‡å› äº’è”</a></td>
                    <td><a target="_blank" href="http://norvig.com/">Peter Norvig</a></td>
                    <td><a target="_blank" href="http://matt.might.net/">Matt Might</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.hankcs.com/">ç å†œåœº</a></td>
                    <td><a target="_blank" href="https://hcc.trilines.net/">Hingchung Chu</a></td>
                    <td><a target="_blank" href="http://www.matrix67.com/">Matrix67</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://www.codingnow.com/">äº‘é£</a></td>
                    <td><a target="_blank" href="https://techsingular.net/">æŠ€æœ¯å¥‡å¼‚ç‚¹</a></td>
                    <td><a target="_blank" href="http://www.staroceans.org/">staroceans.org</a></td>
                </tr>
                <tr>
                    <td></td>
                    <td><a target="_blank" href="https://www.hyperiats.com/">é£èˆå¹»åŸ</a></td>
                    <td></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="links_category">
        <div class="links_subtitle">å·¥å…·å’Œå¤‡å¿˜</div>
        <div class="links_table_container">
            <table class="links_table">
                <tr>
                    <td><a target="_blank" href="http://www.iqdb.org/">å›¾ç‰‡æ£€ç´¢</a></td>
                    <td><a target="_blank" href="http://waifu2x.udp.jp/">åŠ¨ç”»å›¾ç‰‡SRR</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.bottlecaps.de/rr/ui">Railroad Diagram</a></td>
                    <td><a target="_blank" href="http://nipponcolors.com/">Nippon Iro</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://playground.tensorflow.org/">Neural Network</a></td>
                    <td><a target="_blank" href="http://www.cs.usfca.edu/~galles/visualization/Algorithms.html">æ•°æ®ç»“æ„å¯è§†åŒ–</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.json.cn/">JSONæ ¼å¼åŒ–</a></td>
                    <td><a target="_blank" href="https://www.iconfont.cn/">é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://www.colorhexa.com/">ColorHexa</a></td>
                    <td><a target="_blank" href="http://ed6.orangeclk.com/">ç©ºä¹‹è½¨è¿¹æ”»ç•¥</a></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="links_category">
        <div class="links_subtitle">ç¡¬ä»¶ Â· ç”µå­</div>
        <div class="links_table_container">
            <table class="links_table">
                <tr>
                    <td><a target="_blank" href="http://www.cncalc.org/">cnCalcè®¡ç®—å™¨è®ºå›</a></td>
                    <td><a target="_blank" href="https://www.cnvintage.org/">cnVintage</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://bideyuanli.com/">æ¯”çš„åŸç†</a></td>
                    <td><a target="_blank" href="http://vgmdb.net/db/main.php">VGMdb</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.alldatasheet.com/">ALLDATASHEET</a></td>
                    <td><a target="_blank" href="http://hitmen.c02.at/files/yapspd/psp_doc/">PSPæ–‡æ¡£</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.beis.de/Elektronik/DeltaSigma/DeltaSigma.html">Delta-Sigmaä»‹ç»</a></td>
                    <td><a target="_blank" href="http://wiki.jackslab.org/">Jack's Lab</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.datamath.org/Graphing/JPEG_NSpire_CAS.htm">NSpireæ‹†æœºå›¾èµ</a></td>
                    <td><a target="_blank" href="http://www.nixieclock.org/">è¾‰å…‰é’Ÿä¹‹å®¶</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://wikidevi.com/">WikiDevi</a></td>
                    <td><a target="_blank" href="http://www.soomal.com/">æ•°ç å¤š</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://wiki.friendlyarm.com/wiki/index.php/Main_Page">å‹å–„Wiki</a></td>
                    <td><a target="_blank" href="http://vocakey.info/">VOCAKEY</a></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="links_category">
        <div class="links_subtitle">å·´ åˆ« å¡”</div>
        <div class="links_table_container">
            <table class="links_table">
                <tr>
                    <td><a target="_blank" href="http://e-dictionary.apc.gov.tw/">å°æ¹¾åŸä½æ°‘æ—è¯­è¨€è¯å…¸</a></td>
                    <td><a target="_blank" href="https://web.klokah.tw/">æ—èªEæ¨‚åœ’</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://htq.minpaku.ac.jp/databases/rGyalrong/">å˜‰ç»’è¯­æ•°æ®åº“</a></td>
                    <td><a target="_blank" href="http://ccdc.fudan.edu.cn/bases/index.jsp">å¤æ—¦ä¸œäºšè¯­è¨€ç ”ç©¶ä¸­å¿ƒ</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://ckipsvr.iis.sinica.edu.tw/">ä¸­å¤®ç ”ç©¶é™¢ä¸­æ–‡NLPç›¸å…³</a></td>
                    <td><a target="_blank" href="http://nlp.csai.tsinghua.edu.cn/">æ¸…åNLP</a> | <a target="_blank" href="https://jiuge.thunlp.cn/">ä½œè¯—æœºå™¨äºº</a></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="links_category">
        <div class="links_subtitle">å¤§ åƒ ä¸– ç•Œ</div>
        <div class="links_table_container">
            <table class="links_table">
                <tr>
                    <td><a target="_blank" href="https://sicp.readthedocs.io/en/latest/">SICPè§£é¢˜é›†</a></td>
                    <td><a target="_blank" href="http://okmij.org/ftp/">okmij.org</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.braeunig.us/space/index.htm">ç«ç®­å’Œç©ºé—´æŠ€æœ¯</a></td>
                    <td><a target="_blank" href="http://www.linked-brain-data.org/">è„‘ç§‘å­¦æ•°æ®åº“</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://himawari8.nict.go.jp/">å‘æ—¥è‘µ8å·å®æ—¶äº‘å›¾</a></td>
                    <td><a target="_blank" href="https://earth.nullschool.net/">å…¨çƒæ°”è±¡å¯è§†åŒ–</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://marxists.anu.edu.au/chinese/">ä¸­æ–‡é©¬å…‹æ€ä¸»ä¹‰æ–‡åº“</a></td>
                    <td><a target="_blank" href="http://www.stats.gov.cn/tjsj/tjbz/tjyqhdmhcxhfdm/">åŒºåˆ’ä»£ç </a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://www.wikidata.org/wiki/Q13">WikiData</a></td>
                    <td><a target="_blank" href="https://www.langchao.org/">æµªæ½®</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://ddrk.me/">ç•ªç»„</a></td>
                    <td><a target="_blank" href="http://www.mcescher.com/">è‰¾èˆå°”å®˜æ–¹ç½‘ç«™</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://www.kegg.jp/">KEGG</a></td>
                    <td><a target="_blank" href="http://biochemical-pathways.com/">ç½—æ°ä»£è°¢è·¯å¾„å›¾</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://www.wikipathways.org/">WikiPathways</a></td>
                    <td><a target="_blank" href="http://rosettacode.org/">Rosetta Code</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://thwiki.cc/">THBwiki</a></td>
                    <td><a target="_blank" href="https://zh.moegirl.org/">èŒå¨˜ç™¾ç§‘</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="http://www.ucdrs.superlib.net/">å…¨å›½å›¾ä¹¦é¦†å‚è€ƒå’¨è¯¢è”ç›Ÿ</a></td>
                    <td><a target="_blank" href="https://vcb-s.com/">VCB-Studio</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://beautifulracket.com/">BeauÂ­tiful Racket</a></td>
                    <td><a target="_blank" href="http://sheet.stdioa.com/">StdioAçš„ä¹è°±åˆ†äº«ç«™</a></td>
                </tr>
                <tr>
                    <td><a target="_blank" href="https://aidn.jp/mikutap/">MikuTap</a></td>
                    <td><a target="_blank" href="https://explainshell.com">explainshell</a></td>
                </tr>
            </table>
        </div>
    </div>
    <script>
    (function() {
        // è¿›åœºåŠ¨ç”»
        let showTime = 0;
        $(".links_category").each(function(i,e) {
            $(e).css({'opacity':0,'margin-top':'-10px'});
            setTimeout(function() {
                $(e).animate({'opacity':1.0,'margin-top':'0px'}, 800);
            }, showTime);
            showTime += 50;
        });
    })();
    </script>
</template>




<!--aboutæ¨¡æ¿-->
<template id="about">
    <table style="width:100%; font-size:14px; text-align: left; margin: 30px auto 30px auto; color: #233333;" align="center">
        <tr>
            <td class="about_tdl">æ€§åˆ«</td>
            <td class="about_tdr">ç”·â™‚</td>
        </tr>
        <tr>
            <td class="about_tdl">ç°å±…</td>
            <td class="about_tdr">å—äº¬</td>
        </tr>
    </table>

    <div class="about_subtitle" id="motto">æ ¼ è¨€</div>
    <div class="about_content">æ€•ä»€ä¹ˆçœŸç†æ— ç©·ï¼Œè¿›ä¸€æ­¥æœ‰è¿›ä¸€æ­¥çš„æ¬¢å–œ</div>

    <div class="about_subtitle" id="contacts">è” ç³» æ–¹ å¼</div>
        <div class="about_content">
            <a class="about_a" target="_blank" href="https://github.com/mikukonai/">GitHub</a><span class="bar">/</span><a class="about_a" target="_blank" href="https://www.douban.com/people/mikukonai/">è±†ç“£</a><span class="bar">/</span><a class="about_a" target="_blank" href="https://www.zhihu.com/people/mikukonai/">çŸ¥ä¹</a>
        </div>
        <div class="about_content">
            <div style="margin:0 auto 20px auto">
            <p style="font-size: 13px;color:#888888;line-height: 25px;">- ä¸ªäººå¾®ä¿¡ -</p>
            <img src="./image/qrcode.png" style="display:block;margin:0px auto 0 auto;width:35%;">
        </div>
    </div>

    <div class="about_subtitle" id="anime">åŠ¨ ç”»</div>
    <div class="about_content" style="line-height: 30px;" lang="ja">
        <a class="about_a" href="https://movie.douban.com/subject/21348026/">æ¶¼å®®ãƒãƒ«ãƒ’ã®æ†‚é¬±</a><span class="bar">/</span><a class="about_a" href="https://movie.douban.com/subject/3060542/">å¤ç›®å‹äººå¸³</a><br>
        <a class="about_a" href="https://movie.douban.com/subject/4935090/">èŠ±å’²ãã„ã‚ã¯</a><span class="bar">/</span><a class="about_a" href="https://movie.douban.com/subject/10001418/">æ°·è“</a><span class="bar">/</span><a class="about_a" href="https://movie.douban.com/subject/27081136/">å°‘å¥³çµ‚æœ«æ—…è¡Œ</a><br>
    </div>

    <div class="about_subtitle" id="copyright">æƒ åˆ© å£° æ˜</div>
    <div class="about_content">ç‰ˆæƒæ‰€æœ‰ &copy; 2016-<span class="copyright_year">2019</span> Mikukonai</div>
    <div class="about_content">é™¤å¦æœ‰å£°æ˜å¤–ï¼Œæ‰€æœ‰åŸåˆ›å†…å®¹å‡å¯åœ¨â‘ ç½²åŸä½œè€…åå’Œâ‘¡éç›ˆåˆ©ç”¨é€”çš„å‰æä¸‹ä½¿ç”¨å’Œä¼ æ’­ã€‚</div>
    <!-- <div class="about_content">æ–‡ç« é»˜è®¤é¢˜å›¾ã€Œ<a class="about_a" href="https://www.pixiv.net/member_illust.php?mode=medium&illust_id=70145976">ç´«éŸ³</a>ã€ï¼šç”»å¸ˆ <a class="about_a" href="https://www.pixiv.net/member.php?id=9412">æœˆç¥ã‚‹ãª</a></div> -->
    <div class="about_content">æ–‡ç« é»˜è®¤é¢˜å›¾ã€Œ<a class="about_a" href="https://www.pixiv.net/member_illust.php?mode=medium&illust_id=71410837">å¤©ä½“è¦³æ¸¬</a>ã€ï¼šç”»å¸ˆ <a class="about_a" href="https://www.pixiv.net/member.php?id=648285">mocha</a></div>


    <div class="about_subtitle" id="changelog">ç‰ˆ æœ¬ è®° å½•</div>

    <div class="about_content"><img src="./image/pa-icon.jpg" style="width:45px; height: 45px;"><br><span style="color:#888888">Project Aurora V3.3</span></div>

    <div class="about_content">
        ã€<a class="about_a" href="https://github.com/mikukonai/mikukonai.github.io" target="_blank">Gitä»“åº“</a>ã€‘
    </div>
    <div class="about_edition">
        <p class="about_vernum">V0.1<span style="color:#888888;padding-left: 15px;">2016.11.24</span></p>
        <!-- <ul><li>è¯•éªŒæ€§çš„ç®€å•é¡µé¢ã€‚</li></ul> -->
        <p class="about_changelog">è¯•éªŒæ€§çš„ç®€å•ä¸ªäººä¸»é¡µ</p>
    </div>
    <div class="about_edition">
        <p class="about_vernum">V1.0<span style="color:#888888;padding-left: 15px;">2017.09.19</span></p>
        <p class="about_changelog">ä¸¤æ å¼å¸ƒå±€ï¼Œè¾ƒå®Œå–„çš„æ ·å¼<br>ä½¿ç”¨ç¬¬ä¸‰æ–¹Markdownè§£æå™¨</p>
    </div>
    <div class="about_edition">
        <p class="about_vernum">V2.0<span style="color:#888888;padding-left: 15px;">2018.02.04</span></p>
        <p class="about_changelog">å“åº”å¼å¸ƒå±€<br>ä½¿ç”¨è‡ªä¸»å®ç°çš„MDè§£æå™¨</p>
    </div>
    <div class="about_edition">
        <p class="about_vernum">V3.0<span style="color:#888888;padding-left: 15px;">2018.07.26</span></p>
        <p class="about_changelog">åšå®¢æ›´åâ€œProject Auroraâ€<br>ç²¾ç®€å†…å®¹å’Œç»“æ„ï¼Œé‡æ–°è®¾è®¡æ ·å¼</p>
    </div>
    <div class="about_edition">
        <p class="about_vernum">V3.1<span style="color:#888888;padding-left: 15px;">2019.01.11</span></p>
        <p class="about_changelog">MDè§£æå™¨ä¸æ–‡ç« æ¨¡æ¿é‡æ„<br>Markdownä¸æ¨¡æ¿åˆ†ç¦»</p>
    </div>
    <div class="about_edition">
        <p class="about_vernum">V3.2<span style="color:#888888;padding-left: 15px;">2019.02.20</span></p>
        <p class="about_changelog">ç›®å½•å’Œçµæ„Ÿé¡µé‡æ„<br>ä½¿ç”¨TravisCIè‡ªåŠ¨ç”ŸæˆRSS</p>
    </div>
    <div class="about_edition">
        <p class="about_vernum">V3.3<span style="color:#888888;padding-left: 15px;">2019.03.15</span></p>
        <p class="about_changelog">ã€å½“å‰ç‰ˆæœ¬ã€‘<br>é‡æ„ä¸ºSPAå•é¡µåº”ç”¨<br>æ ·å¼è®¾è®¡å‚è€ƒ Material Design</p>
    </div>

    <div class="about_subtitle" id="hoshinoarika">æ˜Ÿ ä¹‹ æ‰€ åœ¨</div>
    <div class="about_content">
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="https://music.163.com/outchain/player?type=2&id=559262&auto=0&height=66"></iframe>
    </div>
    <div class="about_content" style="font-size: 12px;">æ˜Ÿã®åœ¨ã‚Šå‡¦ï¼ŒRPGã€Šè‹±é›„ä¼ è¯´VIÂ·ç©ºä¹‹è½¨è¿¹ã€‹ä¸»é¢˜æ­Œ</div>

    <div class="about_content" style="color:#ff88aa; font-size: 18px; letter-spacing: 2px; margin-bottom:20px;">æ„Ÿè°¢æ¥è®¿</div>
</template>

<!--é¢˜å›¾å‚æ•°-->
<!--é¦–é¡µ-->
<template id="index-titlebg">url('http://wx4.sinaimg.cn/large/450be1f5gy1g5zjkjcen2j20p00e3wff.jpg')</template>
<!-- <template id="index-titlebg">url('./image/66037995_p0.jpg')</template> -->
<!-- <template id="index-titlebg">url('./image/chitanda.jpg')</template> -->
<!--çµæ„Ÿ-->
<!-- <template id="inspiration-titlebg">url(./image/haruhi_hoshizora.jpg)</template> -->
<template id="inspiration-titlebg">url('http://wx1.sinaimg.cn/large/450be1f5gy1g5zjkk1w7hj20p00dyt9q.jpg')</template>
<!--æ–‡ç« åˆ—è¡¨-->
<!-- <template id="articles-titlebg">url('./image/miku-dove.jpg')</template> -->
<template id="articles-titlebg">url('http://wx4.sinaimg.cn/large/450be1f5gy1g5zjkkxbjej20p00dz40b.jpg')</template>
<!--ä¹¦ç­¾-->
<!-- <template id="links-titlebg">url('./image/yuki-reading.jpg')</template> -->
<template id="links-titlebg">url('http://wx2.sinaimg.cn/large/450be1f5gy1g5zjklyqq1j20p00e23zc.jpg')</template>
<!--å…³äº-->
<!-- <template id="about-titlebg">url('./image/seu-tree.jpg')</template> -->
<template id="about-titlebg">url('http://wx4.sinaimg.cn/large/450be1f5gy1g5zjklikpij20rs0fi762.jpg')</template>

<!--ä¸Šéƒ¨æ ‡é¢˜æ¨¡æ¿-->
<template id="index-title">
    <div class="top_title_content">
        Project <strong>Aurora</strong>
        <div class="top_title_subtitle">- ä»è€…å¿ƒåŠ¨ -</div>
    </div>
</template>

<template id="inspiration-title">
    <div class="top_title_content_left">
        <span style="font-weight: bold;">çµæ„Ÿ</span><span class="top_title_vertline">Project Aurora</span>
    </div>
</template>

<template id="articles-title">
    <div class="top_title_content_left">
        <span style="font-weight: bold;">æ–‡ç« </span><span class="top_title_vertline">Project Aurora</span>
    </div>
</template>

<template id="links-title">
    <div class="top_title_content_left">
        <span style="font-weight: bold;">ä¹¦ç­¾</span><span class="top_title_vertline">Project Aurora</span>
    </div>
</template>

<template id="about-title">
    <div class="top_title_content">
        <span style="color:rgba(255,255,255,1.0);font-weight: bold;">Project Aurora</span>
        <div class="top_title_subtitle">Mikukonai / åˆéŸ³æ²¡æœ‰æ¥</div>
    </div>
</template>

<!--SPAäº¤äº’å’Œæ¸²æŸ“æ§åˆ¶-->
<script src="./js/jquery.min.js"></script>
<script src="./js/jquery.easing.js"></script>
<script>
// å›¾ç‰‡é¢„åŠ è½½
/*
let preloadList = [
    "./image/chitanda.jpg",
    "./image/miku-dove.jpg",
    "./image/haruhi_hoshizora.jpg",
    "./image/yuki-reading.jpg",
    "./image/seu-tree.jpg"
];
let blurRadius = 5;
let completeCount = 0;
let blurTimer = 0;
preloadList.forEach((src)=>{
    let img = new Image();
    img.src = src;
    img.onload = ()=>{
        completeCount++;
        if(completeCount = preloadList.length) {
            blurTimer = setInterval(()=>{
                $(".main-box").css("filter", `blur(${blurRadius}px)`);
                blurRadius -= 0.5;
                if(blurRadius < 0) {
                    clearInterval(blurTimer);
                }
            }, 40);
        }
    };
});
*/

function render(pageid) {
    // è¿›åœºåŠ¨ç”»åˆå§‹åŒ–
    $('.spa-content').css({'opacity': '0.1'/*, 'margin-top': '-28px'*/}, 1000);
    // é‡ç½®è¿›åº¦æ¡ï¼ˆè¿›åº¦æ¡åŠ¨ä½œç”±templateé‡Œé¢çš„å†…å®¹æ§åˆ¶ï¼‰
    $("#progressbar").show();
    $("#progressbar").css('width', '0%');
    // é¡µé¢å†…å®¹
    $('.spa-content').html($(`template#${pageid}`).html());
    // æ ‡é¢˜
    $('.top_title').html($(`template#${pageid}-title`).html());
    // é¢˜å›¾
    $('.top_title').css({'opacity': '0.5'});
    $('.top_title').css('background-image', $(`template#${pageid}-titlebg`).html());
    $('.top_title').animate({'opacity': '1'});
    // æŒ‰é’®å…‰æ ‡
    $(`[data-target!="${pageid}"]`).removeClass('top_active');
    $(`[data-target="${pageid}"]`).addClass('top_active');
    // è¿›åœºåŠ¨ç”»
    $('.spa-content').animate({'opacity': '1'/*, 'margin-top': '0'*/}, 1000);
    // å¤„ç†æ¨¡æ¿é¡µä¸­çš„SPAè¡Œä¸º
    registerSpaSwitch();
}

function registerSpaSwitch() {
    $('.spa-switch').off('click'); // é¿å…é‡å¤ç»‘å®š
    $('.spa-switch').each(function(i,e) {
        $(e).click(()=>{
            let targetid = $(e).attr('data-target');
            history.pushState({pageid: targetid}, '', `#/${targetid}`);
            render(targetid);
        });
    });
}

registerSpaSwitch();

window.onload = function() {
    let pageid = null;
    var reqArg = (function getRequestArg() {
        let reqArgStr = window.document.location.href.match(/\#\/.*$/gi);
        return reqArgStr;
    })();

    if(reqArg !== null) {
        pageid = reqArg[0].replace(/^\#\//g, '');
    }
    else {
        pageid = 'index';
    }
    render(pageid);
    if(!history.state) {
        history.pushState({pageid: pageid}, '', window.location.href);
    }
    setCopyrightYear();
};

window.onpopstate = function(e) {
    if(!e.state) {
        console.log(`ç›®æ ‡stateä¸ºç©º`);
    }
    else {
        let newTargetId = e.state.pageid;
        render(newTargetId);
    }
}

function setCopyrightYear() {
    let copyrightYearNodes = document.getElementsByClassName('copyright_year');
    for(let i = 0; i < copyrightYearNodes.length; i++) {
        copyrightYearNodes[i].innerHTML = new Date().getFullYear();
    }
}

</script>
</body>
</html>
