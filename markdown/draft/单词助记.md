#!metadata
{
    "title":"单词助记",
    "titleImage":"",
    "type":"原创",
    "date":"2018-09-03",
    "author":["Mikukonai"],
    "tags":[]
}

#!content
<button class="md-button" id="random" style="width:100%;height: 50px;position:fixed;bottom:0;left:0;z-index:10000000;margin:0;">随机单词</button>
<div id="flashcard-content"></div>
#!css

.card {
    font-size: 14px;
    line-height: 25px;
    color: #233333;
}
.word-title {
    text-align: center;
    font-family: Georgia, serif;
    font-size: 25px;
    line-height: 45px;
    color:rgb(0, 153, 255);
    background-color: aliceblue;
}
.field-title {
    margin: 8px 0 5px 0;
    font-size: 16px;
    line-height: 34px;
    color: #999999;
}
.field-title:before {
    content:"☆";
    display: inline-block;
    margin-right: 2px;
}
.exp-line {
    margin-left: 20px;
}
.field-line {
    margin-left: 20px;
    margin-bottom: 5px;
}
.item-chn {
    color: #888888;
}
.part-of-speech {
    display: inline-block;
    font-family: Menlo,Monaco,Consolas,"Courier New",monospace;
    text-align: right;
    margin-right: 5px;
    color: #ff0000;
    width: 35px;
}
a.word-link {
    color: #00aaff;
    text-decoration: none;
    cursor: pointer;
}
a.word-link:hover {
    color: #ffaa00;
}


#!js

#script:./js/vocabulary.js
#script:./js/flashcard.js

$(function(){

    // 所有单词
    var wordlist = new Array();
    for(let word in VOCABULARY) {
        wordlist.push(word);
    }
    var currentIndex = 0;

    function randomWord() {
        let randomIndex = Math.floor(Math.random() * wordlist.length);
        while(randomIndex === currentIndex) {
            randomIndex = Math.floor(Math.random() * wordlist.length);
        }
        currentIndex = randomIndex;
        format(wordlist[randomIndex]);
        $('.word-link').click(function() {
            let word = $(this)[0].id;
            console.log(word);
            format(word);
        });
    }

    randomWord();

    document.getElementById('random').addEventListener('click', ()=>{randomWord();});
    document.getElementById('random2').addEventListener('click', ()=>{randomWord();});
    
});
